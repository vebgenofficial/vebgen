<a id="core.project_models"></a>

# core.project\_models

<a id="core.project_models.FeatureStatusEnum"></a>

## FeatureStatusEnum Objects

```python
class FeatureStatusEnum(str, Enum)
```

Defines the possible lifecycle statuses for a development feature.

<a id="core.project_models.FeatureTask"></a>

## FeatureTask Objects

```python
class FeatureTask(BaseModel)
```

Represents a single, atomic step in a feature's implementation plan.

<a id="core.project_models.FeatureTask.task_id_str"></a>

#### task\_id\_str

Hierarchical ID (e.g., "1.1", "3.2.1") from the plan.

<a id="core.project_models.FeatureTask.target"></a>

#### target

The target of the action (e.g., a file path or a command).

<a id="core.project_models.FeatureTask.description"></a>

#### description

Default to empty string if missing

<a id="core.project_models.FeatureTask.requirements"></a>

#### requirements

Detailed requirements (from plan).

<a id="core.project_models.FeatureTask.dependencies"></a>

#### dependencies

List of other task IDs this task depends on.

<a id="core.project_models.FeatureTask.test_step"></a>

#### test\_step

Command string to run for validating this task (from plan).

<a id="core.project_models.FeatureTask.doc_update"></a>

#### doc\_update

Brief note on documentation impact (from plan).

<a id="core.project_models.FeatureTask.resources_defined"></a>

#### resources\_defined

A unique ID for a resource this task creates (e.g., a model class).

<a id="core.project_models.FeatureTask.api_contract_references"></a>

#### api\_contract\_references

Links to API contracts relevant to this task.

<a id="core.project_models.FeatureTask.ui_component_name"></a>

#### ui\_component\_name

Name of the UI component, if applicable.

<a id="core.project_models.FeatureTask.styling_details"></a>

#### styling\_details

Description of visual styles for CSS tasks.

<a id="core.project_models.FeatureTask.status"></a>

#### status

Current status of the task execution.

<a id="core.project_models.FeatureTask.result"></a>

#### result

Stores the output from execution, an error message, or other feedback.

<a id="core.project_models.FeatureTask.execution_history"></a>

#### execution\_history

Stores history of command executions for this task # Add this line

<a id="core.project_models.FeatureTask.remediation_attempts"></a>

#### remediation\_attempts

Counter for remediation attempts.

<a id="core.project_models.FeatureTask.llm_interactions"></a>

#### llm\_interactions

Stores key LLM prompts/responses for this task

<a id="core.project_models.FeatureTask.validate_deps_list"></a>

#### validate\_deps\_list

```python
@field_validator('dependencies', mode='before')
@classmethod
def validate_deps_list(cls, v)
```

Cleans and validates the dependency list.
It can parse dependencies from a raw string (e.g., "depends_on: 1.1, 1.2") or a list.

<a id="core.project_models.FeatureTask.set_default_test_step"></a>

#### set\_default\_test\_step

```python
@model_validator(mode='after')
def set_default_test_step() -> 'FeatureTask'
```

Assigns a default test step if none is provided and action is not 'Prompt user input'.

<a id="core.project_models.ProjectFeature"></a>

## ProjectFeature Objects

```python
class ProjectFeature(BaseModel)
```

Represents a high-level feature to be implemented in the project.

<a id="core.project_models.ProjectFeature.id"></a>

#### id

Unique identifier for the feature (e.g., "auth", "user-profile-view").

<a id="core.project_models.ProjectFeature.name"></a>

#### name

Human-readable name (e.g., "Authentication", "User Profile Display").

<a id="core.project_models.ProjectFeature.description"></a>

#### description

Brief description of the feature's purpose (often from the user prompt).

<a id="core.project_models.ProjectFeature.status"></a>

#### status

Current lifecycle status of the feature.

<a id="core.project_models.ProjectFeature.plan_markdown"></a>

#### plan\_markdown

The raw Markdown plan generated by Tars for this feature.

<a id="core.project_models.ProjectFeature.related_api_contract_ids"></a>

#### related\_api\_contract\_ids

List of APIContract.contract_id

<a id="core.project_models.ProjectFeature.tasks"></a>

#### tasks

List of parsed tasks required to implement this feature.

<a id="core.project_models.ProjectFeature.branch_name"></a>

#### branch\_name

Simulated Git branch name (e.g., "feature/auth"). (Optional field)

<a id="core.project_models.ProjectFeature.dependencies"></a>

#### dependencies

IDs of other *features* this feature depends on.

<a id="core.project_models.ProjectFeature.remediation_attempts_for_feature_tests"></a>

#### remediation\_attempts\_for\_feature\_tests

New field to track attempts for feature-level tests

<a id="core.project_models.PythonFileImport"></a>

## PythonFileImport Objects

```python
class PythonFileImport(BaseModel)
```

Represents a single Python import statement (e.g., `from .models import User`).

<a id="core.project_models.PythonFileImport.names"></a>

#### names

[{"name": "actual_name", "as_name": "alias_name_or_null"}]

<a id="core.project_models.PythonFileImport.level"></a>

#### level

For relative imports

<a id="core.project_models.PythonFunctionParam"></a>

## PythonFunctionParam Objects

```python
class PythonFunctionParam(BaseModel)
```

Represents a single parameter in a Python function definition.

<a id="core.project_models.PythonFunctionParam.annotation"></a>

#### annotation

Store type hint as string

<a id="core.project_models.PythonFunctionParam.default"></a>

#### default

Store as string representation

<a id="core.project_models.PythonFunction"></a>

## PythonFunction Objects

```python
class PythonFunction(BaseModel)
```

Represents a Python function, including its parameters and decorators.

<a id="core.project_models.PythonClassAttribute"></a>

## PythonClassAttribute Objects

```python
class PythonClassAttribute(BaseModel)
```

Represents a class-level attribute.

<a id="core.project_models.PythonClassAttribute.value_preview"></a>

#### value\_preview

String representation of the assigned value (truncated)

<a id="core.project_models.PythonClassAttribute.is_static"></a>

#### is\_static

Placeholder for future analysis

<a id="core.project_models.PythonClass"></a>

## PythonClass Objects

```python
class PythonClass(BaseModel)
```

Represents a Python class, including its methods and attributes.

<a id="core.project_models.PythonClass.bases"></a>

#### bases

List of base class names as strings

<a id="core.project_models.PythonClass.attributes"></a>

#### attributes

Statically defined class attributes

<a id="core.project_models.PythonFileDetails"></a>

## PythonFileDetails Objects

```python
class PythonFileDetails(BaseModel)
```

Structured representation of a Python file's contents.

<a id="core.project_models.DjangoModelField"></a>

## DjangoModelField Objects

```python
class DjangoModelField(BaseModel)
```

Represents a single field within a Django model class.

<a id="core.project_models.DjangoModelField.field_type"></a>

#### field\_type

e.g., "CharField", "ForeignKey"

<a id="core.project_models.DjangoModelField.args"></a>

#### args

e.g., {"max_length": 50, "to": "OtherModel"}

<a id="core.project_models.DjangoModelField.related_model_name"></a>

#### related\_model\_name

Explicitly store the 'to' model for ForeignKey, OneToOneField, ManyToManyField

<a id="core.project_models.DjangoModelField.related_name"></a>

#### related\_name

For ForeignKey, OneToOneField, ManyToManyField

<a id="core.project_models.DjangoModelField.on_delete"></a>

#### on\_delete

For ForeignKey, OneToOneField (e.g., "models.CASCADE")

<a id="core.project_models.DjangoModelField.choices"></a>

#### choices

Store as list of (value, display_name) tuples

<a id="core.project_models.DjangoModel"></a>

## DjangoModel Objects

```python
class DjangoModel(PythonClass)
```

Represents a Django model, extending a Python class with Django-specific fields.

<a id="core.project_models.DjangoModel.meta_options"></a>

#### meta\_options

e.g., {"ordering": ["-created_at"]}

<a id="core.project_models.DjangoModelFileDetails"></a>

## DjangoModelFileDetails Objects

```python
class DjangoModelFileDetails(PythonFileDetails)
```

Structured representation of a Django models.py file.

<a id="core.project_models.DjangoView"></a>

## DjangoView Objects

```python
class DjangoView(PythonFunction)
```

Represents a Django view, extending a Python function with view-specific details.

<a id="core.project_models.DjangoView.allowed_http_methods"></a>

#### allowed\_http\_methods

e.g., ['GET', 'POST']

<a id="core.project_models.DjangoView.context_data_keys"></a>

#### context\_data\_keys

Keys passed in the context to a template

<a id="core.project_models.DjangoViewFileDetails"></a>

## DjangoViewFileDetails Objects

```python
class DjangoViewFileDetails(PythonFileDetails)
```

Structured representation of a Django views.py file.

<a id="core.project_models.DjangoURLPattern"></a>

## DjangoURLPattern Objects

```python
class DjangoURLPattern(BaseModel)
```

Represents a single `path()` or `re_path()` in a urls.py file.

<a id="core.project_models.DjangoURLPattern.view_reference"></a>

#### view\_reference

String reference to the view (e.g., "views.my_view", "MyClassView.as_view()")

<a id="core.project_models.DjangoURLPattern.http_methods"></a>

#### http\_methods

e.g., ['GET', 'POST']

<a id="core.project_models.DjangoURLInclude"></a>

## DjangoURLInclude Objects

```python
class DjangoURLInclude(BaseModel)
```

Represents an `include()` in a urls.py file.

<a id="core.project_models.DjangoURLInclude.included_urlconf"></a>

#### included\_urlconf

String reference to the included module (e.g., "other_app.urls")

<a id="core.project_models.DjangoURLConfDetails"></a>

## DjangoURLConfDetails Objects

```python
class DjangoURLConfDetails(PythonFileDetails)
```

Structured representation of a Django urls.py file.

<a id="core.project_models.DjangoForm"></a>

## DjangoForm Objects

```python
class DjangoForm(PythonClass)
```

Represents a Django Form or ModelForm.

<a id="core.project_models.DjangoForm.meta_model"></a>

#### meta\_model

For ModelForms

<a id="core.project_models.DjangoForm.meta_fields"></a>

#### meta\_fields

For ModelForm fields

<a id="core.project_models.DjangoForm.form_fields"></a>

#### form\_fields

For explicitly defined fields

<a id="core.project_models.DjangoFormFileDetails"></a>

## DjangoFormFileDetails Objects

```python
class DjangoFormFileDetails(PythonFileDetails)
```

Structured representation of a Django forms.py file.

<a id="core.project_models.DjangoAdminRegisteredModel"></a>

## DjangoAdminRegisteredModel Objects

```python
class DjangoAdminRegisteredModel(BaseModel)
```

Represents a model registered with the Django admin site.

<a id="core.project_models.DjangoAdminRegisteredModel.model"></a>

#### model

Name of the model class

<a id="core.project_models.DjangoAdminRegisteredModel.admin_class"></a>

#### admin\_class

Name of the ModelAdmin class, if used

<a id="core.project_models.DjangoAdminClass"></a>

## DjangoAdminClass Objects

```python
class DjangoAdminClass(PythonClass)
```

Represents a ModelAdmin class in an admin.py file.

<a id="core.project_models.DjangoAdminClass.model"></a>

#### model

Model this admin class is for

<a id="core.project_models.DjangoAdminFileDetails"></a>

## DjangoAdminFileDetails Objects

```python
class DjangoAdminFileDetails(PythonFileDetails)
```

Structured representation of a Django admin.py file.

<a id="core.project_models.DjangoTestFileDetails"></a>

## DjangoTestFileDetails Objects

```python
class DjangoTestFileDetails(PythonFileDetails)
```

Structured representation of a Django test file.

<a id="core.project_models.DjangoSettingsDetails"></a>

## DjangoSettingsDetails Objects

```python
class DjangoSettingsDetails(PythonFileDetails)
```

Structured representation of a Django settings.py file.

<a id="core.project_models.DjangoSettingsDetails.key_settings"></a>

#### key\_settings

e.g., {"INSTALLED_APPS": [...]}

<a id="core.project_models.TemplateFileDetails"></a>

## TemplateFileDetails Objects

```python
class TemplateFileDetails(BaseModel)
```

Structured representation of an HTML/Jinja2 template file.

<a id="core.project_models.TemplateFileDetails.extends_base_html_unresolved"></a>

#### extends\_base\_html\_unresolved

New flag for planner

<a id="core.project_models.TemplateFileDetails.url_references"></a>

#### url\_references

Names or paths used in {% url %}

<a id="core.project_models.TemplateFileDetails.key_dom_ids"></a>

#### key\_dom\_ids

IDs of significant DOM elements

<a id="core.project_models.TemplateFileDetails.form_targets"></a>

#### form\_targets

URLs that forms post to

<a id="core.project_models.JSFileDetails"></a>

## JSFileDetails Objects

```python
class JSFileDetails(BaseModel)
```

Structured representation of a JavaScript file.

<a id="core.project_models.JSFileDetails.global_functions"></a>

#### global\_functions

Top-level functions

<a id="core.project_models.CSSFileDetails"></a>

## CSSFileDetails Objects

```python
class CSSFileDetails(BaseModel)
```

Structured representation of a CSS file.

<a id="core.project_models.CSSFileDetails.defines_selectors"></a>

#### defines\_selectors

Key IDs and classes

<a id="core.project_models.APIContractField"></a>

## APIContractField Objects

```python
class APIContractField(BaseModel)
```

Defines a single field within an API request or response body.

<a id="core.project_models.APIContractField.type"></a>

#### type

e.g., "string", "integer", "boolean", "object", "array"

<a id="core.project_models.APIContractField.properties"></a>

#### properties

For nested objects

<a id="core.project_models.APIContractField.items"></a>

#### items

For arrays

<a id="core.project_models.APIContractRequestResponse"></a>

## APIContractRequestResponse Objects

```python
class APIContractRequestResponse(BaseModel)
```

Defines the structure of an API request or response body.

<a id="core.project_models.APIContractRequestResponse.schema_description"></a>

#### schema\_description

General description of the schema

<a id="core.project_models.APIContractRequestResponse.fields"></a>

#### fields

Key: field name

<a id="core.project_models.APIContractEndpoint"></a>

## APIContractEndpoint Objects

```python
class APIContractEndpoint(BaseModel)
```

Defines a single API endpoint (e.g., GET /api/users).

<a id="core.project_models.APIContractEndpoint.responses"></a>

#### responses

Key: status code (e.g., "200", "400")

<a id="core.project_models.FileStructureInfo"></a>

## FileStructureInfo Objects

```python
class FileStructureInfo(BaseModel)
```

A container for the structured details of a single file, parsed by CodeIntelligenceService.

<a id="core.project_models.FileStructureInfo.django_test_details"></a>

#### django\_test\_details

New field

<a id="core.project_models.FileStructureInfo.django_apps_config_details"></a>

#### django\_apps\_config\_details

For apps.py

<a id="core.project_models.FileStructureInfo.raw_content_summary"></a>

#### raw\_content\_summary

For unknown or simple text files

<a id="core.project_models.AppStructureInfo"></a>

## AppStructureInfo Objects

```python
class AppStructureInfo(BaseModel)
```

Represents the collection of parsed files within a single Django app.

<a id="core.project_models.AppStructureInfo.files"></a>

#### files

file_name: FileStructureInfo

<a id="core.project_models.GlobalURLRegistryEntry"></a>

## GlobalURLRegistryEntry Objects

```python
class GlobalURLRegistryEntry(BaseModel)
```

Represents a single named URL pattern found anywhere in the project.

<a id="core.project_models.GlobalURLRegistryEntry.name"></a>

#### name

The 'name' attribute from path()

<a id="core.project_models.GlobalURLRegistryEntry.file_path"></a>

#### file\_path

Relative path to the urls.py file defining it

<a id="core.project_models.GlobalURLRegistryEntry.app_name"></a>

#### app\_name

The app_name if defined in that urls.py

<a id="core.project_models.ProjectStructureMap"></a>

## ProjectStructureMap Objects

```python
class ProjectStructureMap(BaseModel)
```

The top-level map of the entire project's code structure, organized by app.
This is a key input for providing context to the AI agents.

<a id="core.project_models.ProjectStructureMap.apps"></a>

#### apps

app_name: AppStructureInfo

<a id="core.project_models.ProjectStructureMap.global_url_registry"></a>

#### global\_url\_registry

url_name: GlobalURLRegistryEntry

<a id="core.project_models.ProjectState"></a>

## ProjectState Objects

```python
class ProjectState(BaseModel)
```

The main Pydantic model that holds the entire state of the development project.
This object is serialized to disk by the MemoryManager to persist state across sessions.

<a id="core.project_models.ProjectState.git_status_summary"></a>

#### git\_status\_summary

Added field to store summary of git status

<a id="core.project_models.ProjectState.open_files_context"></a>

#### open\_files\_context

path: partial content/summary

<a id="core.project_models.ProjectState.code_summaries"></a>

#### code\_summaries

Stores file_path: latest_summary

<a id="core.project_models.ProjectState.security_feedback_history"></a>

#### security\_feedback\_history

Stores feedback about blocked commands

<a id="core.project_models.ProjectState.historical_notes"></a>

#### historical\_notes

Stores high-level decisions/notes

<a id="core.project_models.ProjectState.artifact_registry"></a>

#### artifact\_registry

Central registry for defined resources

<a id="core.project_models.ProjectState.project_structure_map"></a>

#### project\_structure\_map

New field for code map

<a id="core.project_models.ProjectState.get_feature_by_id"></a>

#### get\_feature\_by\_id

```python
def get_feature_by_id(feature_id: str) -> Optional[ProjectFeature]
```

Retrieves a feature from the features list by its ID.

**Arguments**:

- `feature_id` - The ID of the feature to retrieve.
  

**Returns**:

  The ProjectFeature instance if found, otherwise None.

<a id="core.project_models.ProjectState.get_api_contract_by_id"></a>

#### get\_api\_contract\_by\_id

```python
def get_api_contract_by_id(contract_id: str) -> Optional['APIContract']
```

Retrieves an API contract from the api_contracts list by its ID.

**Arguments**:

- `contract_id` - The ID of the API contract to retrieve.
  

**Returns**:

  The APIContract instance if found, otherwise None.

<a id="core.project_models.TaskExecutionResult"></a>

## TaskExecutionResult Objects

```python
class TaskExecutionResult(BaseModel)
```

<a id="core.project_models.TaskExecutionResult.error_details"></a>

#### error\_details

Detailed error message if success is False.

<a id="core.project_models.CommandResult"></a>

## CommandResult Objects

```python
class CommandResult(BaseModel)
```

Standardized result object for command executions.

<a id="core.project_models.APIContract"></a>

## APIContract Objects

```python
class APIContract(BaseModel)
```

Represents a formal contract for an API, including its endpoints and data schemas.

<a id="core.project_models.APIContract.feature_id"></a>

#### feature\_id

Link to the feature this contract primarily serves

<a id="core.project_models.CommandOutput"></a>

## CommandOutput Objects

```python
class CommandOutput(BaseModel)
```

Structured output from a command execution.

<a id="core.project_models.ErrorType"></a>

## ErrorType Objects

```python
class ErrorType(str, Enum)
```

Enumeration of the different types of errors the system can classify.

<a id="core.project_models.ErrorRecord"></a>

## ErrorRecord Objects

```python
class ErrorRecord(BaseModel)
```

A structured representation of a single error event, parsed from logs.

<a id="core.project_models.RemediationTaskType"></a>

## RemediationTaskType Objects

```python
class RemediationTaskType(str, Enum)
```

Enumeration of the different types of remediation tasks the planner can create.

<a id="core.project_models.RemediationTask"></a>

## RemediationTask Objects

```python
class RemediationTask(BaseModel)
```

Represents a single task within a remediation plan.
(Note: This is a more generic model; the specific task types below are preferred).

<a id="core.project_models.RemediationPlan"></a>

## RemediationPlan Objects

```python
class RemediationPlan(BaseModel)
```

Represents a full plan to remediate one or more errors, consisting of multiple tasks.

<a id="core.project_models.FixLogicTask"></a>

## FixLogicTask Objects

```python
class FixLogicTask(BaseModel)
```

A remediation task to fix a logical error, often requiring context from multiple files.

<a id="core.project_models.FixBundleTask"></a>

## FixBundleTask Objects

```python
class FixBundleTask(BaseModel)
```

A remediation task that bundles multiple errors related to a single file into one fix.

<a id="core.project_models.CreateFileTask"></a>

## CreateFileTask Objects

```python
class CreateFileTask(BaseModel)
```

A remediation task to create a file that was reported as missing.

<a id="core.project_models.FixSyntaxTask"></a>

## FixSyntaxTask Objects

```python
class FixSyntaxTask(BaseModel)
```

A remediation task to fix a syntax error in a specific file.

<a id="core.project_models.FixCommandTask"></a>

## FixCommandTask Objects

```python
class FixCommandTask(BaseModel)
```

A remediation task to correct a command that failed to execute.

